<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <script src='https://cdn.tailwindcss.com'></script>
    <title>Admin Panel - My Show Time</title>
  </head>
  <body>
    <div class='flex min-h-screen bg-gray-100'>
      <!-- Sidebar -->
      <aside class='w-64 bg-white shadow-md'>
        <div class='p-6 font-bold text-purple-700 text-2xl'>AdminPanel</div>
        <nav class='mt-8'>
          <a
            href='/admin'
            class='block py-3 px-6 text-gray-700 hover:bg-purple-100'
          >Dashboard</a>
          <a
            href='/admin/users'
            class='block py-3 px-6 text-gray-700 hover:bg-purple-100'
          >Users</a>
          <a
            href='/admin/artist'
            class='block py-3 px-6 text-gray-700 hover:bg-purple-100'
          >Artists</a>
          <a
            href='/admin/concert'
            class='block py-3 px-6 text-gray-700 hover:bg-purple-100'
          >Concerts</a>
        </nav>
      </aside>

      <!-- Main Content -->
      <div class='flex-1 flex flex-col'>
        <!-- Top Navbar -->
        <header
          class='bg-white shadow-md p-4 flex justify-between items-center'
        >
          <h1 class='text-xl font-bold text-purple-700'>Dashboard</h1>
          <div class='flex items-center gap-4'>
                        <a class=" font-medium underline hover:bg-red-400 hover:text-white text-red-400" href="/">Home page</a>

            {{!-- <input
              type='text'
              placeholder='Search...'
              class='px-4 py-2 border rounded-lg'
            /> --}}
            <div
              class='w-16 h-16 rounded-full bg-purple-500 flex items-center justify-center text-white font-bold'
            > Admin </div>
          </div>
        </header>

        <!-- Content -->
        <main class='p-6 space-y-6'>
          <!-- Stats Cards -->
          <div class='grid grid-cols-1 md:grid-cols-4 gap-6'>
            <div class='bg-white p-6 rounded-lg shadow-md'>
              <p class='text-sm text-gray-500'>Total Users</p>
              <h2
                class='text-3xl font-bold text-purple-700 mt-2'
              >{{users.length}}</h2>
            </div>
            {{!-- <div class='bg-white p-6 rounded-lg shadow-md'>
              <p class='text-sm text-gray-500'>Artists</p>
              <h2
                class='text-3xl font-bold text-green-600 mt-2'
              >{{artists.length}}</h2>
            </div> --}}
            {{!-- <div class='bg-white p-6 rounded-lg shadow-md'>
              <p class='text-sm text-gray-500'>Concerts</p>
              <h2
                class='text-3xl font-bold text-blue-600 mt-2'
              >{{concerts.length}}</h2>
            </div> --}}
            {{!-- <div class='bg-white p-6 rounded-lg shadow-md'>
              <p class='text-sm text-gray-500'>Admin Actions</p>
            </div> --}}
          </div>

          <!-- Users Table -->
          <div id='users' class='bg-white rounded-lg shadow-md'>
            <div class='p-4 border-b font-bold text-purple-700'>Users ({{users.length}})</div>
            <table class='w-full text-left'>
              <thead class='bg-purple-50'>
                <tr>
                  <th class='p-4'>ID</th>
                  <th class='p-4'>Username</th>
                  <th class='p-4'>Email</th>
                  <th class='p-4'>Admin</th>
                  <th class='p-4'>Actions</th>
                </tr>
              </thead>
              <tbody>
                {{#each users}}
                  <tr class='border-t hover:bg-gray-50'>
                    <td class='p-4'>{{this.id}}</td>
                    <td class='p-4'>{{this.username}}</td>
                    <td class='p-4'>{{this.email}}</td>
                    <td class='p-4'>{{this.isAdmin}}</td>
                    <td class='p-4'>
                      <div class="flex justify-between">
                      <form action='/users/{{this.id}}' method='POST'>
                        <button
                          class='text-red-600 hover:bg-slate-700'
                          type='submit'
                        >
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
  <path fill-rule="evenodd" d="M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z" clip-rule="evenodd" />
</svg>

                        </button>
                      </form>
                      {{!-- BOUTON UPDATE --}}
                        {{!-- <button
                          class=' hover:bg-slate-500'
                          type='submit'
                        >
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
  <path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z" />
  <path d="M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z" />
</svg>
                        </button> --}}
                        </div>
                    </td>
                  </tr>
                {{/each}}
              </tbody>
            </table>
          </div>

          <div
            class='bg-white p-6 rounded-lg shadow-md grid grid-cols-2 md:grid-cols-4 gap-4'
          >
            <!-- Tu peux ajouter des formulaires ici plus tard -->
            <a
              class='bg-purple-600 text-white py-3 text-center rounded-lg shadow hover:bg-purple-700'
              href='/adduser'
            >
              <button> Add User</button></a>
            {{!-- <button
              class='bg-blue-600 text-white py-3 rounded-lg shadow hover:bg-blue-700'
              onclick="alert('Feature coming soon')"
            >Add Artist</button>
            <button
              class='bg-green-600 text-white py-3 rounded-lg shadow hover:bg-green-700'
              onclick="alert('Feature coming soon')"
            >Add Concert</button> --}}
            {{!-- <button
              class='bg-red-600 text-white py-3 rounded-lg shadow hover:bg-red-700'
              onclick="alert('Use delete buttons above')"
            >Delete Records</button> --}}
          </div>

        </main>

        <footer
          class='bg-white p-4 mt-auto text-center text-sm text-gray-400 border-t'
        >
          Â© 2025 My Show Time Admin. All rights reserved.
        </footer>
      </div>
    </div>

    {{! <script>
    async function delete(id) {
      if (confirm('Delete this user?')) {
        await fetch(`/admin/users/${id}`, { method: 'DELETE' });
        location.reload();
      }
    }
  </script> }}
  </body>
</html>